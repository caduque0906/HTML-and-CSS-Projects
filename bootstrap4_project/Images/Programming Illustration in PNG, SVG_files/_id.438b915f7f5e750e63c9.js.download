(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1346:function(e,t,r){"use strict";r.r(t);r(15),r(10),r(12),r(8),r(19),r(13),r(21);var l=r(4),n=r(5),o=(r(31),r(27)),c=r(40),d=r(310);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"IllustrationPage",mixins:[d.a],layout:"content",asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,l,n,d,y,h,f,m,O,k,S,x,w,_,P,j,T,E,I,R,L,C,D,A,N,U,$,G,H,style,J,V;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.params,l=e.app,n=e.error,d=e.route,y=e.store,e.res,h=e.redirect,f="secret"in d.query?d.query.secret:"",m=l.i18n.localeProperties.iso,t.prev=3,y.state.categories.length){t.next=9;break}return t.next=7,l.$categoriesRepository.index({locale:m});case 7:R=t.sent,y.commit(c.c,(null==R?void 0:R.categories)||[]);case 9:return C={locale:m},t.prev=10,t.next=13,y.dispatch("cache/get",{key:v(v({},C),{},{id:r.id,keyType:"illustration"})});case 13:if(!(D=t.sent)){t.next=18;break}L=D,t.next=22;break;case 18:return t.next=20,l.$illustrationsRepository.show(r.id,C);case 20:L=t.sent,y.dispatch("cache/set",{key:v(v({},C),{},{id:r.id,keyType:"illustration"}),value:L});case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(10),console.error(t.t0);case 27:if(r.id!==L.pretty_id&&h(301,"/illustrations/illustration/".concat(L.pretty_id)),null===(O=L)||void 0===O||null===(k=O.styles)||void 0===k||!k.length){t.next=65;break}return U={style_pretty_ids:L.styles[0].pretty_id,page:1,per_page:50,locale:m},t.prev=30,t.next=33,y.dispatch("cache/get",{key:v(v({},U),{},{id:L.id,keyType:"similars"})});case 33:if(!($=t.sent)){t.next=38;break}A=$,t.next=42;break;case 38:return t.next=40,l.$illustrationsRepository.show(L.id,U,"similars");case 40:A=t.sent,y.dispatch("cache/set",{key:v(v({},U),{},{id:L.id,keyType:"similars"}),value:A});case 42:t.next=47;break;case 44:t.prev=44,t.t1=t.catch(30),console.error(t.t1);case 47:return G={related_illustration_id:L.id,page:1,per_page:12,random_previews_count:4,locale:m},t.prev=48,t.next=51,y.dispatch("cache/get",{key:v(v({},G),{},{keyType:"related"})});case 51:if(!(H=t.sent)){t.next=56;break}N=H,t.next=60;break;case 56:return t.next=58,l.$categoriesPreviewsRepository.index(G);case 58:N=t.sent,y.dispatch("cache/set",{key:v(v({},G),{},{keyType:"related"}),value:N});case 60:t.next=65;break;case 62:t.prev=62,t.t2=t.catch(48),console.error(t.t2);case 65:return style=null===(S=L)||void 0===S||null===(x=S.styles)||void 0===x||null===(w=x[0])||void 0===w?void 0:w.title,J=L.heading||"Illustration",V={heading:J.toLowerCase()},style&&(V.styles=style.toLowerCase()),y.dispatch("updateSEO",{title:l.i18n.t("OUCH_V2.SEO.ILLUSTRATION_PAGE.TITLE",{heading:Object(o.a)(J)}),description:l.i18n.t("OUCH_V2.SEO.ILLUSTRATION_PAGE.DESCRIPTION",V),image:(null===(_=L)||void 0===_||null===(P=_.ogPreview1x)||void 0===P?void 0:P.url)||"".concat("https://maxst.icons8.com","/vue-static/ouch/seo/opengraph.png")}),t.abrupt("return",{illustration:L,relatedStyles:(null===(j=N)||void 0===j?void 0:j.categories)||[],totalRelatedStyles:(null===(T=N)||void 0===T?void 0:T.total)||0,sameStyleIllustrations:(null===(E=A)||void 0===E?void 0:E.illustrations)||[],totalSameStyle:(null===(I=A)||void 0===I?void 0:I.total)||0,secret:f});case 73:t.prev=73,t.t3=t.catch(3),console.error(t.t3),y.commit("HREFLANG_DELETE"),n({statusCode:404,message:"Whoops, couldn't find illustration with this id"});case 78:case"end":return t.stop()}}),t,null,[[3,73],[10,24],[30,44],[48,62]])})))()},data:function(){return{illustration:null,sameStyleIllustrations:[],totalSameStyle:0,secret:""}}},f=r(2),component=Object(f.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"illustration-page"},[t("ouch-full-illustration",{attrs:{"has-full-info":"",illustration:e.illustration,sameStyleIllustrations:e.sameStyleIllustrations,totalSameStyle:e.totalSameStyle,illustrationPage:!0,secret:e.secret,relatedStyles:e.relatedStyles,totalRelatedStyles:e.totalRelatedStyles}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=_id.438b915f7f5e750e63c9.js.map