(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1179:function(t,e,r){var content=r(1257);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("7ad4963d",content,!0,{sourceMap:!1})},1180:function(t,e,r){var content=r(1272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("21cbc2e0",content,!0,{sourceMap:!1})},1256:function(t,e,r){"use strict";r(1179)},1257:function(t,e,r){var n=r(6)((function(i){return i[1]}));n.push([t.i,".request-illustration-message[data-v-24848443]{border-bottom:1px solid rgba(0,0,0,.08);margin-bottom:32px;padding-bottom:32px;position:relative}@media(max-width:480px){.request-illustration-message[data-v-24848443]{margin-bottom:24px;padding-bottom:24px}}.request-illustration-message.has-results[data-v-24848443]{border-top:1px solid rgba(0,0,0,.08);margin-bottom:0;margin-top:16px;padding:32px 0}@media(max-width:480px){.request-illustration-message.has-results[data-v-24848443]{padding:24px 0}}.request-illustration-message__description[data-v-24848443]{margin-bottom:16px;max-width:576px}@media(max-width:650px){.request-illustration-message__description[data-v-24848443]{max-width:100%}}.request-illustration-message__icon[data-v-24848443]{align-self:start;height:24px;margin-right:8px;min-width:24px;width:24px}.request-illustration-message__title[data-v-24848443]{align-items:center;display:flex;font-size:18px;line-height:24px;margin-bottom:16px}",""]),n.locals={},t.exports=n},1271:function(t,e,r){"use strict";r(1180)},1272:function(t,e,r){var n=r(6)((function(i){return i[1]}));n.push([t.i,".category-page[data-v-668d8e20]{margin-top:32px}@media(max-width:320px){.category-page[data-v-668d8e20]{margin-top:24px}}.category-page .content[data-v-668d8e20]{margin-top:24px}@media(max-width:480px){.category-page .content[data-v-668d8e20]{margin-top:16px}}.category-page .ouch-spacer[data-v-668d8e20]{margin-bottom:16px}aside[data-v-668d8e20]{margin-right:32px;max-width:224px;width:100%}@media(max-width:768px){aside[data-v-668d8e20]{display:flex;justify-content:space-between;max-width:100%}aside .styles-dropdown[data-v-668d8e20]{margin-right:16px}}@media(max-width:980px){aside .category-list[data-v-668d8e20]{display:none}}main[data-v-668d8e20]{width:100%}main.full-width[data-v-668d8e20]{max-width:100%}main .illustration-list[data-v-668d8e20]{width:100%}main .ouch-loader[data-v-668d8e20]{margin:56px auto}main .ouch-loader.no-space-bottom[data-v-668d8e20]{margin-bottom:0}",""]),n.locals={},t.exports=n},1334:function(t,e,r){"use strict";r.r(e);r(10),r(12),r(19),r(21);var n=r(24),o=r(4),c=r(5),l=(r(31),r(20),r(42),r(15),r(95),r(58),r(8),r(59),r(25),r(28),r(22),r(13),r(38),{name:"RequestIllustrationMessage",props:{hasResults:{type:Boolean,default:!1},search:{type:String,default:""}},computed:{description:function(){return this.hasResults?"Tell us about an illustration you need, and we will draw it for free in one of the existing styles.":"Try checking your spelling or use more general term. Also, you can explain to us the illustration you need, and we'll draw it for free in one of the existing styles."},messageClasses:function(){return{"has-results":this.hasResults}},title:function(){return this.hasResults?"Missing an illustration? We will create it":"No illustrations found for ".concat(this.search)}}}),h=(r(1256),r(2)),d=Object(h.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request-illustration-message",class:t.messageClasses},[e("div",{staticClass:"request-illustration-message__title"},[e("div",{staticClass:"request-illustration-message__icon",domProps:{innerHTML:t._s(t.$icons["request/request-search"])}}),e("div",{staticClass:"request-illustration-message__text bold"},[t._v(t._s(t.title))])]),e("div",{staticClass:"request-illustration-message__description",domProps:{innerHTML:t._s(t.description)}}),e("div",{staticClass:"request-illustration-message__button"},[e("button",{staticClass:"button outlined",on:{click:function(e){return t.$router.push("/illustrations/request-illustration")}}},[t._v("Request illustration")])])])}),[],!1,null,"24848443",null).exports,m=r(109),y=r(27),f=r(11),v=r(40),x=r(1258),k=r.n(x);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"IllustrationsPage",components:{requestIllustrationMessage:d},mixins:[m.a],layout:"content",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,h,d,m,f,x,T,w,_,C,O,S,j,R,$,E,I,A,L,D,M,H,G,N,U,F,V,W,B,J,z,Y,K,Q,X,path,Z,tt,et,at,st,it,nt,ot,ct,lt,ut,ht,pt,gt,mt,yt,ft,vt;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x=t.params,T=t.app,w=t.store,_=t.error,C=t.redirect,O=t.route,t.res,w.commit("SET_ACTIVE_SEARCH",null),w.dispatch("setInitSearch",void 0),w.dispatch("setCurrentCategory",null),w.dispatch("setCurrentTag",null),S=T.i18n.localeProperties.iso,j=O.fullPath.replace("/illustrations/","").replace(/\s+/g,"-").toLowerCase(),R=Object(y.k)(j.split("/"),w.state.categories),w.state.categories.length){e.next=13;break}return e.next=11,T.$categoriesRepository.index({locale:S});case 11:$=e.sent,w.commit(v.c,(null==$?void 0:$.categories)||[]);case 13:if(w.state.styles.length){e.next=18;break}return e.next=16,T.$stylesRepository.index({locale:S});case 16:E=e.sent,w.dispatch("setStyles",E);case 18:if(I=Object(y.i)(R,w,S),A=I.animated,L=I.currentCategoryPath,D=I.filterType,M=I.firstCategory,H=I.formattedParams,G=I.illustrationType,N=I.illustratorsType,U=I.imageId,I.isBot,F=I.isTagPage,V=I.stylePrettyId,w.commit(v.j,G),w.commit(v.b,A),w.commit(v.l,N),W=Object(y.g)({category:L,locale:S,style:V}),B=W.categoryParams,J=W.hasCategory,z=null,J&&w.dispatch("setCurrentCategory",L),!J&&!V||F){e.next=44;break}return e.prev=26,e.next=29,w.dispatch("cache/get",{key:P(P({},B),{},{keyType:"current categories"})});case 29:if(!(Q=e.sent)){e.next=34;break}X=Q,e.next=38;break;case 34:return e.next=36,T.$categoriesRepository.index(B);case 36:X=e.sent,w.dispatch("cache/set",{key:P(P({},B),{},{keyType:"current categories"}),value:X});case 38:z=J?(null===(Y=X.categories)||void 0===Y||null===(K=Y[0])||void 0===K?void 0:K.children)||[]:X.categories,e.next=44;break;case 41:e.prev=41,e.t0=e.catch(26),console.error("cannot get categories");case 44:if(w.dispatch("setCurrentCategories",z),!J){e.next=49;break}if(path=Object(y.h)({animated:A,currentCategoryPath:L,illustrationType:G,illustratorsType:N,imageId:U,stylePrettyId:V}),x.pathMatch===path||F){e.next=49;break}return e.abrupt("return",C(301,"/illustrations/".concat(path)));case 49:if(Z=null,tt=j.split("/"),L.length){e.next=78;break}if(!(j=Object(y.p)({slugArray:tt,isTagPage:F}))){e.next=73;break}return et={search:j,locale:S},e.prev=55,e.next=58,w.dispatch("cache/get",{key:P(P({},et),{},{keyType:"search-by-tag"})});case 58:if(!(at=e.sent)){e.next=63;break}Z="none"===at?null:at,e.next=66;break;case 63:return e.next=65,T.$tagsRepository.index(et,"search");case 65:Z=e.sent;case 66:w.dispatch("cache/set",{key:P(P({},et),{},{keyType:"search-by-tag"}),value:Z}),w.dispatch("setCurrentTag",Z),e.next=73;break;case 70:e.prev=70,e.t1=e.catch(55),w.dispatch("cache/set",{key:P(P({},et),{},{keyType:"search-by-tag"}),value:"none"});case 73:if(!Z){e.next=78;break}if(F&&w.dispatch("setInitSearch",Z.title),st=Object(y.o)({tag:Z,stylePrettyId:V,illustratorsType:N,animated:A,illustrationType:G,imageId:U}),x.pathMatch===st){e.next=78;break}return e.abrupt("return",C(301,"/illustrations/".concat(st)));case 78:if(Object.keys(H).length){e.next=82;break}return w.commit("HREFLANG_DELETE"),_({statusCode:404,message:"Wrong params"}),e.abrupt("return");case 82:if(it=U?w.state.searchImage:null,!U||(null===(r=it)||void 0===r?void 0:r.id)===U){e.next=104;break}return e.prev=85,e.next=88,w.dispatch("cache/get",{key:{imageId:U,keyType:"search-image"}});case 88:if(!(nt=e.sent)){e.next=93;break}it=nt,e.next=97;break;case 93:return e.next=95,T.$uploadRepository.show(U);case 95:it=e.sent,w.dispatch("cache/set",{key:{imageId:U,keyType:"search-image"},value:it});case 97:w.commit("SET_SEARCH_IMAGE",it),e.next=104;break;case 100:e.prev=100,e.t2=e.catch(85),console.error(e.t2),_({statusCode:500,message:"Whoops, something went wrong..."});case 104:if(F||J||!j){e.next=112;break}if(ot=j.trim(),ct=/^\d+$/.test(ot),j=ct?ot:k()(j,{custom:["/"],lang:S.split("-")[0]}),j=Object(y.s)(j),lt=Object(y.n)({search:j,stylePrettyId:V,illustratorsType:N,animated:A,illustrationType:G,imageId:U}),x.pathMatch===lt){e.next=112;break}return e.abrupt("return",C(301,"/illustrations/".concat(lt)));case 112:if(ut=null,ht=Object(y.c)(H,"style_pretty_ids"),!Object.keys(ht).length){e.next=127;break}return pt=P({locale:S},ht),e.next=118,w.dispatch("cache/get",{key:P(P({},pt),{},{keyType:"current styles"})});case 118:if(!(gt=e.sent)){e.next=123;break}ut=gt,e.next=127;break;case 123:return e.next=125,T.$stylesRepository.index(pt);case 125:ut=e.sent,w.dispatch("cache/set",{key:P(P({},pt),{},{keyType:"current styles"}),value:ut});case 127:return w.dispatch("setCurrentStyles",ut),mt=w.state.styles.find((function(style){return style.pretty_id===V})),w.dispatch("setCurrentStyle",mt),e.prev=130,F||w.dispatch("setInitSearch",(null==H?void 0:H.search)||""),ft=Object(y.l)({formattedParams:H,locale:S,perPage:50}),e.next=135,w.dispatch("cache/get",{key:P(P({},ft),{},{keyType:"illustrations"})});case 135:if(!(vt=e.sent)){e.next=140;break}yt=vt,e.next=144;break;case 140:return e.next=142,T.$illustrationsRepository.index(ft);case 142:yt=e.sent,w.dispatch("cache/set",{key:P(P({},ft),{},{keyType:"illustrations"}),value:yt});case 144:e.next=150;break;case 146:e.prev=146,e.t3=e.catch(130),console.error(e.t3),_({statusCode:500,message:"Whoops, something went wrong..."});case 150:return w.dispatch("updateSEO",Object(y.m)({filterType:D,firstCategory:M,formattedParams:H,i18n:T.i18n,illustrations:(null===(n=yt)||void 0===n?void 0:n.illustrations)||[],tag:(null===(o=Z)||void 0===o?void 0:o.title)||"",store:w,stylePrettyId:V})),null!==(c=yt)&&void 0!==c&&null!==(l=c.illustrations)&&void 0!==l&&l.length||w.commit("HREFLANG_DELETE"),e.abrupt("return",{currentCategoryPath:L,filterType:D,formattedParams:H,illustrations:(null===(h=yt)||void 0===h?void 0:h.illustrations)||[],image:it,locale:S,search:"",showPopular:!(null!==(d=yt)&&void 0!==d&&null!==(m=d.illustrations)&&void 0!==m&&m.length),subject:M,total:(null===(f=yt)||void 0===f?void 0:f.total)||0});case 153:case"end":return e.stop()}}),e,null,[[26,41],[55,70],[85,100],[130,146]])})))()},data:function(){return{currentCategoryPath:[],filterType:"",formattedParams:null,illustrations:[],illustration_type:"illustrations",image:null,loading:!1,perPage:50,showPopular:!1,search:null,seoTags:null,subject:null,total:0}},computed:P(P({},Object(f.e)({currentCategories:function(t){return t.currentCategories},currentStyle:function(t){return t.currentStyle},categories:function(t){return t.categories},initSearch:function(t){return t.search.init},currentSearch:function(t){return t.search.current},searchResultsLoading:function(t){return t.loading}})),{},{illustrationType:function(){return this.$store.state.illustrationTypes.current},isExperimentalStyle:function(){return this.$route.fullPath.includes("style--experimental")},hasTag:function(){return this.$route.fullPath.includes("/illustrations/t/")},hasLimitedIllustrations:function(){return this.total>0&&this.total<20},searched:function(){var t;return this.search||(null===(t=this.formattedParams)||void 0===t?void 0:t.search)},seoTitle:function(){var title="Free vectors";if(!this.formattedParams)return title;switch(this.filterType){case"category":title="".concat(this.subject.title," ").concat(this.$t("OUCH_V2.VECTOR_ILLUSTRATIONS"));break;case"search":title=this.initSearch?this.initSearch.replace(/%20/g," "):"".concat(this.formattedParams.search?this.formattedParams.search.replace(/-/g," "):"");break;case"style":this.currentStyle&&(title=this.$t("OUCH_V2.SEO_HEADER.STYLE_TITLE",{style:this.currentStyle.title}))}return title},showCrossSearch:function(){return this.illustrations.length>=this.total&&this.total>20},showSidebar:function(){var t;return!this.hasTag&&(this.currentCategoryPath.length||null!==(t=this.formattedParams)&&void 0!==t&&t.search?!!(this.currentCategories||[]).length:!!(this.currentCategories||this.categories).length)}}),mounted:function(){var t;this.$store.commit("SET_LOADING_STATE",!1),this.replaceUrls(),this.getSeoTags(),this.getCounts(),this.sendGoogleAnalytics();var e=this.$route.fullPath.includes("/t/");null!==(t=this.formattedParams)&&void 0!==t&&t.search&&!e&&this.$store.commit("HREFLANG_DELETE")},beforeDestroy:function(){this.$store.commit("SET_LOADING_STATE",!1)},methods:{fetch:function(){var t={locale:this.locale},e=this.getPayload();this.nextPage("illustrations",Object.assign(t,e))},getCounts:function(){this.getIllustrationsCounts(),this.getAnimatedCounts(),this.getIllustratorsCounts()},getIllustrationsCounts:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=Object(y.c)(t.formattedParams,"type"),e.next=4,t.$store.dispatch("cache/get",{key:P(P({},l),{},{keyType:"illustrations-count"})});case 4:if(!(h=e.sent)){e.next=9;break}c=h,e.next=13;break;case 9:return e.next=11,t.$illustrationsRepository.index(l,"count");case 11:c=e.sent,t.$store.dispatch("cache/set",{key:P(P({},l),{},{keyType:"illustrations-count"}),value:c});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("getting illustrations counts failed");case 18:t.$store.commit(v.k,{illustrations:(null===(r=c)||void 0===r?void 0:r.total_illustrations)||0,collages:(null===(n=c)||void 0===n?void 0:n.total_collages)||0,components:(null===(o=c)||void 0===o?void 0:o.total_components)||0});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},getAnimatedCounts:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(y.c)(t.formattedParams,"animated"),e.next=4,t.$store.dispatch("cache/get",{key:P(P({},c),{},{keyType:"count-animated"})});case 4:if(!(l=e.sent)){e.next=9;break}o=l,e.next=13;break;case 9:return e.next=11,t.$illustrationsRepository.index(c,"count/animated");case 11:o=e.sent,t.$store.dispatch("cache/set",{key:P(P({},c),{},{keyType:"count-animated"}),value:o});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("getting animation counts failed");case 18:t.$store.commit("ANIMATED_SET_TOTALS",{animated:(null===(r=o)||void 0===r?void 0:r.total_animated)||0,static:(null===(n=o)||void 0===n?void 0:n.total_statics)||0});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},getIllustratorsCounts:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(y.c)(t.formattedParams,"independent"),e.next=4,t.$store.dispatch("cache/get",{key:P(P({},c),{},{keyType:"count-illustrators"})});case 4:if(!(l=e.sent)){e.next=9;break}o=l,e.next=13;break;case 9:return e.next=11,t.$illustrationsRepository.index(c,"count/illustrators");case 11:o=e.sent,t.$store.dispatch("cache/set",{key:P(P({},c),{},{keyType:"count-illustrators"}),value:o});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("getting illustrators counts failed");case 18:t.$store.commit("ILLUSTRATORS_SET_TOTALS",{internals:(null===(r=o)||void 0===r?void 0:r.total_internals)||0,independent:(null===(n=o)||void 0===n?void 0:n.total_independent)||0});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},getPayload:function(){var t;return this.showPopular?{}:"new_illustrations"===(null===(t=this.formattedParams)||void 0===t?void 0:t.search)?{type:"illustrations",sort_by:"new"}:this.formattedParams},getSeoTags:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.$i18n.localeProperties.iso,c=P({locale:o},t.formattedParams),e.next=5,t.$store.dispatch("cache/get",{key:P(P({},c),{},{keyType:"seo-tags"})});case 5:if(!(l=e.sent)){e.next=10;break}n=l,e.next=14;break;case 10:return e.next=12,t.$tagsRepository.index(c);case 12:n=e.sent,t.$store.dispatch("cache/set",{key:P(P({},c),{},{keyType:"seo-tags"}),value:n});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("getting seo tags failed");case 19:t.seoTags=(null===(r=n)||void 0===r?void 0:r.tags)||[];case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))()},replaceUrls:function(){var t=this;"search"===this.filterType&&this.initSearch&&this.currentSearch&&this.initSearch!==this.currentSearch&&this.$nextTick((function(){t.replaceRoute(),t.replaceLinks()}))},replaceRoute:function(){var t=this.initSearch.replace(/ |-/g,"%20"),e=this.removeDash(this.$route.fullPath,t,this.formattedParams.search);window.history.replaceState(e,this.formattedParams.search,e)},removeDash:function(path,t,e){var r="",n=path;return path.indexOf("--")>=0?(r=(r=path.substr(0,path.indexOf("--"))).replace(/ |-/g,"%20").replace(t,e),n=path.substr(path.indexOf("--"))):n=n.replace(/ |-/g,"%20").replace(t,e),"".concat(r).concat(n)},replaceLinks:function(){var t=this,e=document.querySelectorAll("a");e.forEach((function(link){var e=link.getAttribute("href");e=t.removeDash(e,t.initSearch,t.currentSearch),link.setAttribute("href",e)})),e=[].concat(Object(n.a)(document.querySelectorAll("link[rel='alternate']")),Object(n.a)(document.querySelectorAll("link[rel='canonical']")));var r=this;Array.prototype.forEach.call(e,(function(link){var t=link.getAttribute("href");(t=r.removeDash(t,r.initSearch,r.currentSearch))&&link.setAttribute("href",t)}))},sendGoogleAnalytics:function(){if("search"===this.filterType)try{this.$ga.event("Search",this.searched,"ouch"),this.$ga.page("illustrations/search?query=".concat(this.searched,"&category=illustrations"))}catch(t){console.error(t)}}}},_=(r(1271),Object(h.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-page container"},[e("ouch-seo-header",{attrs:{"show-search":"",currentCategory:t.currentCategoryPath,filterParams:t.formattedParams,filterType:t.filterType,image:t.image,loadingPage:t.nextPageLoading||t.searchResultsLoading,noResults:t.showPopular,seoTags:t.seoTags,title:t.seoTitle,totalIllustrations:t.total}}),e("div",{staticClass:"content"},[t.showSidebar?e("aside",[e("ouch-category-list",{attrs:{filterParams:t.formattedParams,currentCategoryPath:t.currentCategoryPath}})],1):t._e(),e("main",{class:{"full-width":!t.showSidebar}},[t.isExperimentalStyle&&!t.showPopular?e("ouch-sandbox-promo"):t._e(),t.illustrations.length?e("div",{staticClass:"illustration-list"},[e("ouch-illustrations-list",{attrs:{illustrations:t.illustrations,image:t.image,loading:t.searchResultsLoading,total:t.total}}),t.page*t.perPage<this.total||t.nextPageLoading?e("ouch-pagination",{attrs:{entity:"illustrations",page:t.page,perPage:t.perPage,loading:t.nextPageLoading,total:t.total},on:{nextPage:t.fetch}}):t._e()],1):t._e(),t.searched&&(t.showPopular||t.hasLimitedIllustrations)?[e("request-illustration-message",{attrs:{"has-results":!!t.hasLimitedIllustrations,search:t.searched}}),e("ouch-cross-search",{attrs:{"has-results":!!t.hasLimitedIllustrations,search:t.searched,"before-popular":t.showPopular}})]:e("div",{staticClass:"ouch-spacer"}),t.showPopular?e("ouch-promo"):t._e(),t.hasLimitedIllustrations||t.showPopular?e("ouch-related-illustrations",{attrs:{params:t.formattedParams}}):t._e(),t.showCrossSearch&&t.searched?[e("request-illustration-message",{attrs:{"has-results":"",search:t.searched}}),e("ouch-cross-search",{attrs:{"has-results":"",search:t.searched}})]:t._e()],2)])],1)}),[],!1,null,"668d8e20",null));e.default=_.exports}}]);
//# sourceMappingURL=_.2501b1a9901ff784b7e8.js.map